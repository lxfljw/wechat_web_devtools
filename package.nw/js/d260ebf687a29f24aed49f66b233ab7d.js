'use strict';!function(require,directRequire){const a=require('path'),b=require('./common/locales/index.js'),c=require('./949d8235c744ced2a80121e4dba34c28.js'),d=require('./551bb965e1f344281d555a429cd2140c.js'),e=require('./8267de7f4ec7b70a147f3fa5ef2bdea4.js'),f=require('./162bf2ee28b76d3b3d95b685cede4146.js'),g=require('./84b183688a46c9e2626d3e6f83365e13.js'),h=require('./fcadebce92dacc42ac4bba476b700dee.js'),i=require('./2e9637e8a0816a626f7db9a0dee5efe8.js'),j=require('./464e9598eb5c203da6b41e702e422c70.js');module.exports=async function(k,l){const m=`${l}.json`;await i.init(k);const n=await f(k),o=i.CACHE_KEYS.JSON_FILE,p=a.posix.join(n.srcPath,m),q=i.get(o,p);if(q&&q.code&&q.nodeModules==k.setting.nodeModules)return q.code;const r=n.exists(m);if(!r)return{};let s=n.getFile(m);try{s=JSON.parse(s)}catch(a){const d=new Error(`${b.config.JSON_PARSE_ERROR.format(`${l}.json`)}  ${a}`);throw d.path=l,d.code=c.PAGES_JSON_PARSE_ERR,d}const t=await d(k);t&&t.extPages&&t.extPages[l]&&(s=Object.assign({},s,t.extPages[l]));const u=[];if(['enablePullDownRefresh','disableScroll'].forEach((a)=>{'undefined'!=typeof s[a]&&'boolean'!=typeof s[a]&&u.push(b.config.JSON_CONTENT_SHOULD_BE.format([a,'boolean']))}),s.backgroundColorTop&&(s.backgroundColor=s.backgroundColorTop),0<u.length){const a=new Error(u.join('\n'));throw a.path=l,a.code=c.PAGES_JSON_PARSE_ERR,a}s.usingComponents&&j.checkUsingComponents(s,{msg:u,filePath:l,JSON_PARSE_ERR:c.PAGES_JSON_PARSE_ERR});const v=await e(k);if(v.usingComponents)for(const b in s.usingComponents||(s.usingComponents={}),v.usingComponents){if(s.usingComponents[b])continue;const c=v.usingComponents[b]||'',d=k.miniprogramRoot?a.join(k.projectpath,k.miniprogramRoot):k.projectpath;if(!c.startsWith('/')&&!c.startsWith('plugin://')){const e=a.resolve(d,c),f=a.dirname(a.resolve(d,l)),h=a.relative(f,e);s.usingComponents[b]=g.normalizePath(h)}else s.usingComponents[b]=v.usingComponents[b]}return k.setting&&k.setting.nodeModules&&(await h(n,s,l)),i.set(o,p,{code:s,nodeModules:k.setting.nodeModules}),s}}(require('lazyload'),require);