;!function(require, directRequire){;'use strict';const appErrcodeConfig=require('./949d8235c744ced2a80121e4dba34c28.js'),locales=require('./common/locales/index.js'),contentWatcher=require('./162bf2ee28b76d3b3d95b685cede4146.js'),tools=require('./84b183688a46c9e2626d3e6f83365e13.js'),parseErr=require('./6238a86bb7a55c11aa0f9eb335d0f34c.js');async function checkExtConfig(a){if(!a.attr||!a.attr.platform)return;const b='ext.json',c=await contentWatcher(a);let d,e;try{d=c.getFile(b)}catch(a){return}try{e=JSON.parse(d)}catch(a){const b=parseErr.parseJsonParseErr({data:d,error:a}),c=new Error(b);throw c.code=appErrcodeConfig.EXT_JSON_PARSE_ERR,c}if(!e.extEnable)return{};const f=e.extPages||{},g={};for(const c in f){if(g[c]){const a=new Error(locales.config.JSON_PAGES_REPEAT.format([b,c]));throw a.code=appErrcodeConfig.EXT_JSON_PAGES_ERR,a}g[c]=!0}const h=[];if([{key:'extAppid',type:'string'},{key:'ext',type:'object'},{key:'extPages',type:'object'},{key:'window',type:'object'},{key:'tabBar',type:'object'},{key:'networkTimeout',type:'object'}].forEach((a)=>{const b=e[a.key];b&&tools.getType(b)!==a.type&&h.push(locales.config.EXT_JSON_CONTENT_ERR.format([a.key,a.type]))}),0<h.length){const a=new Error(h.join('\n'));throw a.code=appErrcodeConfig.EXT_JSON_CONTENT_ERR,a}return e}module.exports=checkExtConfig;
;}(require("lazyload"), require);
